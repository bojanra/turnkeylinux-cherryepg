#!/bin/bash -ex

dl() {
  [ "$FAB_HTTP_PROXY" ] && PROXY="--proxy $FAB_HTTP_PROXY"
  cd $2; curl -L -f $PROXY $1 --create-dirs -o $3; cd -
}

URL="https://cpan.metacpan.org/authors/id/"
DEST="/usr/local/src/authors/id/"

PACKAGES="A/AB/ABEVERLEY/Dancer2-Plugin-Auth-Extensible-0.709.tar.gz
A/AB/ABH/Mozilla-CA-20200520.tar.gz
A/AB/ABH/Net-NTP-1.5.tar.gz
A/AD/ADAMK/Test-NoWarnings-1.04.tar.gz
A/AJ/AJGB/MooX-Singleton-1.20.tar.gz
A/AM/AMALTSEV/Spreadsheet-Write-1.03.tar.gz
A/AR/ARC/Ref-Util-0.204.tar.gz
A/AR/ARISTOTLE/Hash-MultiValue-0.16.tar.gz
A/AT/ATOOMIC/Clone-0.45.tar.gz
A/AT/ATOOMIC/Template-Toolkit-3.009.tar.gz
A/AT/ATOOMIC/TimeDate-2.33.tar.gz
A/AT/ATOOMIC/XString-0.005.tar.gz
B/BA/BARBIE/Test-CPAN-Meta-0.25.tar.gz
B/BI/BIGJ/Test-Warn-0.36.tar.gz
B/BI/BINGOS/ExtUtils-MakeMaker-7.60.tar.gz
B/BJ/BJOERN/XML-SAX-Expat-0.51.tar.gz
B/BK/BKB/Gzip-Faster-0.21.tar.gz
B/BO/BOOK/Test-Database-1.113.tar.gz
C/CA/CAPOEIRAB/File-Slurp-9999.32.tar.gz
C/CA/CAPOEIRAB/IO-Stringy-2.113.tar.gz
C/CH/CHANSEN/Authen-Simple-0.5.tar.gz
C/CH/CHANSEN/Authen-Simple-PAM-0.2.tar.gz
C/CH/CHANSEN/HTTP-MultiPartParser-0.02.tar.gz
C/CH/CHOCOLATE/Scope-Guard-0.21.tar.gz
C/CH/CHRISN/Net-SSLeay-1.90.tar.gz
C/CJ/CJM/IO-HTML-1.004.tar.gz
C/CR/CROMEDOME/Dancer2-0.300005.tar.gz
C/CR/CROMEDOME/Dancer2-Plugin-Ajax-0.400000.tar.gz
C/CT/CTILMES/Proc-Wait3-0.05.tar.gz
D/DA/DAGOLDEN/Capture-Tiny-0.48.tar.gz
D/DA/DAGOLDEN/Class-Tiny-1.008.tar.gz
D/DA/DAGOLDEN/CPAN-Common-Index-0.010.tar.gz
D/DA/DAGOLDEN/Path-Tiny-0.118.tar.gz
D/DA/DAGOLDEN/Sub-Uplevel-0.2800.tar.gz
D/DA/DAGOLDEN/Tie-Handle-Offset-0.004.tar.gz
D/DA/DANAJ/Crypt-Random-Seed-0.03.tar.gz
D/DA/DANAJ/Crypt-Random-TESHA2-0.01.tar.gz
D/DA/DANKOGAI/Encode-3.08.tar.gz
D/DA/DAVIDO/Bytes-Random-Secure-0.29.tar.gz
D/DC/DCANTRELL/Test-Differences-0.67.tar.gz
D/DE/DELTA/Digest-Perl-MD5-1.9.tar.gz
D/DO/DOUGW/Spreadsheet-ParseExcel-0.65.tar.gz
D/DO/DOY/Dist-CheckConflicts-0.11.tar.gz
D/DO/DOY/Eval-Closure-0.14.tar.gz
D/DO/DOY/Stream-Buffered-0.03.tar.gz
D/DR/DROLSKY/Data-Validate-IP-0.27.tar.gz
D/DR/DROLSKY/DateTime-1.54.tar.gz
D/DR/DROLSKY/DateTime-Locale-1.31.tar.gz
D/DR/DROLSKY/DateTime-TimeZone-2.47.tar.gz
D/DR/DROLSKY/Devel-StackTrace-2.04.tar.gz
D/DR/DROLSKY/Exception-Class-1.44.tar.gz
D/DR/DROLSKY/Module-Implementation-0.09.tar.gz
D/DR/DROLSKY/Params-Validate-1.30.tar.gz
D/DR/DROLSKY/Params-ValidationCompiler-0.30.tar.gz
D/DR/DROLSKY/Specio-0.47.tar.gz
D/DR/DROLSKY/Time-Local-1.30.tar.gz
D/DS/DSKOLL/MIME-tools-5.509.tar.gz
E/ES/ESAYM/Time-Piece-1.3401.tar.gz
E/ET/ETHER/B-Hooks-EndOfScope-0.24.tar.gz
E/ET/ETHER/B-Hooks-OP-Check-0.22.tar.gz
E/ET/ETHER/Class-Load-0.25.tar.gz
E/ET/ETHER/Class-Method-Modifiers-2.13.tar.gz
E/ET/ETHER/File-ShareDir-Install-0.13.tar.gz
E/ET/ETHER/JSON-MaybeXS-1.004003.tar.gz
E/ET/ETHER/Module-Install-1.19.tar.gz
E/ET/ETHER/namespace-autoclean-0.29.tar.gz
E/ET/ETHER/Package-Stash-0.39.tar.gz
E/ET/ETHER/Package-Stash-XS-0.29.tar.gz
E/ET/ETHER/Plack-Middleware-ServerStatus-Tiny-0.002.tar.gz
E/ET/ETHER/Safe-Isa-1.000010.tar.gz
E/ET/ETHER/Template-Tiny-1.13.tar.gz
E/ET/ETHER/Test-Warnings-0.030.tar.gz
E/ET/ETHER/Try-Tiny-0.30.tar.gz
E/ET/ETHER/YAML-Tiny-1.73.tar.gz
E/ET/ETJ/Log-Log4perl-1.54.tar.gz
E/EX/EXODIST/Test-Exception-0.43.tar.gz
E/EX/EXODIST/Test-SharedFork-0.35.tar.gz
E/EX/EXODIST/Test-Simple-1.302183.tar.gz
F/FR/FRACTAL/Session-Token-1.503.tar.gz
F/FR/FREW/Sub-Exporter-Progressive-0.001013.tar.gz
G/GA/GAAS/Digest-HMAC-1.03.tar.gz
G/GA/GAAS/Encode-Locale-1.05.tar.gz
G/GA/GAAS/HTTP-Negotiate-6.01.tar.gz
G/GA/GAAS/WWW-RobotRules-6.02.tar.gz
G/GB/GBARR/Authen-SASL-2.16.tar.gz
G/GR/GRANTM/XML-SAX-1.02.tar.gz
G/GR/GRANTM/XML-SAX-Base-1.09.tar.gz
G/GR/GRANTM/XML-Simple-2.25.tar.gz
G/GS/GSHANK/Crypt-SaltedHash-0.09.tar.gz
H/HA/HAARG/Config-Any-0.32.tar.gz
H/HA/HAARG/Import-Into-1.002005.tar.gz
H/HA/HAARG/Moo-2.004004.tar.gz
H/HA/HAARG/MRO-Compat-0.13.tar.gz
H/HA/HAARG/Role-Tiny-2.002004.tar.gz
H/HA/HAARG/strictures-2.000006.tar.gz
H/HA/HAARG/Sub-Quote-2.006006.tar.gz
H/HA/HAARG/Win32-ShellQuote-0.003001.tar.gz
H/HM/HMBRAND/Spreadsheet-Read-0.84.tgz
I/IL/ILMARI/bareword-filehandles-0.007.tar.gz
I/IL/ILMARI/multidimensional-0.014.tar.gz
I/IN/INGY/File-Share-0.25.tar.gz
I/IS/ISHIGAKI/Text-CSV-2.00.tar.gz
J/JA/JAWNSY/Math-Random-ISAAC-1.004.tar.gz
J/JH/JHOBLITT/DateTime-Format-DateParse-0.05.tar.gz
J/JM/JMCNAMARA/Excel-Writer-XLSX-1.07.tar.gz
J/JM/JMCNAMARA/OLE-Storage_Lite-0.20.tar.gz
J/JM/JMCNAMARA/Spreadsheet-WriteExcel-2.40.tar.gz
J/JS/JSTENZEL/Getopt-ArgvFile-1.11.tar.gz
J/JT/JTBRAUN/Parse-RecDescent-1.967015.tar.gz
K/KA/KASEI/Class-Accessor-0.51.tar.gz
K/KA/KAZEBURO/Apache-LogFormat-Compiler-0.36.tar.gz
K/KA/KAZEBURO/Cookie-Baker-0.11.tar.gz
K/KA/KAZEBURO/HTTP-Entity-Parser-0.25.tar.gz
K/KA/KAZEBURO/Plack-Middleware-Deflater-0.12.tar.gz
K/KA/KAZEBURO/POSIX-strftime-Compiler-0.44.tar.gz
K/KA/KAZEBURO/WWW-Form-UrlEncoded-0.26.tar.gz
K/KA/KAZUHO/Class-Accessor-Lite-0.08.tar.gz
K/KA/KAZUHO/Parallel-Prefork-0.18.tar.gz
K/KA/KAZUHO/Server-Starter-0.35.tar.gz
K/KA/KAZUHO/Starlet-0.31.tar.gz
K/KE/KENTNL/HTML-Tree-5.07.tar.gz
K/KM/KMACLEOD/libxml-perl-0.08.tar.gz
K/KW/KWILLIAMS/Path-Class-0.37.tar.gz
L/LE/LEAKIN/File-Rsync-0.49.tar.gz
L/LE/LEONT/ExtUtils-Config-0.008.tar.gz
L/LE/LEONT/ExtUtils-Helpers-0.026.tar.gz
L/LE/LEONT/ExtUtils-InstallPaths-0.012.tar.gz
L/LE/LEONT/Module-Build-0.4231.tar.gz
L/LE/LEONT/Module-Build-Tiny-0.039.tar.gz
L/LE/LEONT/Signal-Mask-0.008.tar.gz
M/MA/MARKOV/MailTools-2.21.tar.gz
M/MA/MATTK/IPC-ConcurrencyLimit-0.17.tar.gz
M/MI/MIKEB/Spreadsheet-XLSX-0.15.tar.gz
M/MI/MIKER/NetAddr-IP-4.079.tar.gz
M/MI/MIYAGAWA/Carton-v1.0.34.tar.gz
M/MI/MIYAGAWA/Devel-StackTrace-AsHTML-0.15.tar.gz
M/MI/MIYAGAWA/Filesys-Notify-Simple-0.14.tar.gz
M/MI/MIYAGAWA/HTTP-Tinyish-0.17.tar.gz
M/MI/MIYAGAWA/Menlo-1.9019.tar.gz
M/MI/MIYAGAWA/Menlo-Legacy-1.9022.tar.gz
M/MI/MIYAGAWA/Plack-1.0048.tar.gz
M/MI/MIYAGAWA/Test-TCP-2.22.tar.gz
M/ML/MLEHMANN/Canary-Stability-2013.tar.gz
M/ML/MLEHMANN/common-sense-3.75.tar.gz
M/ML/MLEHMANN/JSON-XS-4.03.tar.gz
M/ML/MLEHMANN/Types-Serialiser-1.01.tar.gz
N/NE/NEILB/AppConfig-1.71.tar.gz
N/NE/NEILB/Text-Diff-1.45.tar.gz
N/NI/NIKIP/Authen-PAM-0.16.tar.gz
O/OA/OALDERS/HTML-Form-6.07.tar.gz
O/OA/OALDERS/HTML-Parser-3.76.tar.gz
O/OA/OALDERS/HTTP-BrowserDetect-3.31.tar.gz
O/OA/OALDERS/HTTP-Cookies-6.10.tar.gz
O/OA/OALDERS/HTTP-Daemon-6.12.tar.gz
O/OA/OALDERS/HTTP-Date-6.05.tar.gz
O/OA/OALDERS/HTTP-Message-6.29.tar.gz
O/OA/OALDERS/libwww-perl-6.53.tar.gz
O/OA/OALDERS/LWP-MediaTypes-6.04.tar.gz
O/OA/OALDERS/Net-HTTP-6.20.tar.gz
O/OA/OALDERS/URI-5.09.tar.gz
O/OA/OALDERS/WWW-Mechanize-2.03.tar.gz
O/OL/OLIMAUL/Digest-CRC-0.22.2.tar.gz
O/OV/OVID/Test-Most-0.37.tar.gz
P/PE/PERIGRIN/XML-NamespaceSupport-1.12.tar.gz
P/PE/PERLANCAR/Crypt-Password-Util-0.17.tar.gz
P/PE/PERLANCAR/File-Flock-Retry-0.631.tar.gz
P/PE/PERLANCAR/Unix-Passwd-File-0.251.tar.gz
P/PE/PETDANCE/HTML-Tagset-3.20.tar.gz
P/PE/PEVANS/Scalar-List-Utils-1.55.tar.gz
P/PH/PHRED/Archive-Zip-1.68.tar.gz
P/PL/PLICEASE/Class-Inspector-1.36.tar.gz
P/PL/PLICEASE/File-Listing-6.14.tar.gz
P/PL/PLICEASE/File-Which-1.23.tar.gz
R/RE/REHSACK/File-HomeDir-1.006.tar.gz
R/RE/REHSACK/File-ShareDir-1.118.tar.gz
R/RE/REHSACK/List-MoreUtils-0.430.tar.gz
R/RE/REHSACK/List-MoreUtils-XS-0.430.tar.gz
R/RE/REHSACK/Params-Util-1.102.tar.gz
R/RG/RGARCIA/Sub-Identify-0.14.tar.gz
R/RI/RIBASUSHI/namespace-clean-0.27.tar.gz
R/RJ/RJBS/Algorithm-Diff-1.201.tar.gz
R/RJ/RJBS/App-Cmd-0.331.tar.gz
R/RJ/RJBS/Data-OptList-0.110.tar.gz
R/RJ/RJBS/Getopt-Long-Descriptive-0.105.tar.gz
R/RJ/RJBS/IO-TieCombine-1.005.tar.gz
R/RJ/RJBS/IPC-Run3-0.048.tar.gz
R/RJ/RJBS/String-RewritePrefix-0.008.tar.gz
R/RJ/RJBS/Sub-Exporter-0.987.tar.gz
R/RJ/RJBS/Sub-Install-0.928.tar.gz
R/RJ/RJBS/Test-Deep-1.130.tar.gz
R/RJ/RJBS/Test-Fatal-0.016.tar.gz
R/RO/ROKR/Hash-Merge-Simple-0.051.tar.gz
R/RO/ROSCH/IPC-Signal-1.00.tar.gz
R/RS/RSAVAGE/Crypt-PasswdMD5-1.41.tgz
R/RS/RSCHUPP/Module-ScanDeps-1.30.tar.gz
R/RS/RSCHUPP/PAR-1.017.tar.gz
R/RS/RSCHUPP/PAR-Dist-0.51.tar.gz
R/RS/RSCHUPP/PAR-Packer-1.052.tar.gz
R/RU/RURBAN/Cpanel-JSON-XS-4.25.tar.gz
S/SA/SANKO/Readonly-2.05.tar.gz
S/SB/SBURKE/Text-Unidecode-1.30.tar.gz
S/SH/SHAY/Class-Singleton-1.6.tar.gz
S/SH/SHLOMIF/File-Remove-1.60.tar.gz
S/SI/SIFUKURT/Crypt-RC4-2.02.tar.gz
S/SI/SIMONW/Module-Pluggable-5.2.tar.gz
S/SU/SULLR/IO-Socket-SSL-2.070.tar.gz
S/SW/SWEETKID/Plack-Middleware-FixMissingBodyInRedirect-0.12.tar.gz
S/SW/SWEETKID/Plack-Middleware-RemoveRedundantBody-0.09.tar.gz
S/SY/SYP/Net-Curl-0.48.tar.gz
T/TI/TIMB/DBI-1.643.tar.gz
T/TI/TINITA/YAML-1.30.tar.gz
T/TI/TINITA/YAML-LibYAML-0.82.tar.gz
T/TM/TMTM/Class-Data-Inheritable-0.08.tar.gz
T/TO/TOBYINK/Exporter-Tiny-1.002002.tar.gz
T/TO/TOBYINK/Type-Tiny-1.012001.tar.gz
T/TO/TODDR/XML-Parser-2.46.tar.gz
T/TO/TOKUHIROM/HTTP-Headers-Fast-0.22.tar.gz
T/TO/TOKUHIROM/Test-Requires-0.11.tar.gz
T/TO/TOMO/src/Net-SMTPS-0.10.tar.gz
V/VP/VPIT/indirect-0.39.tar.gz
V/VP/VPIT/Variable-Magic-0.62.tar.gz
W/WK/WKI/Test-MockDateTime-0.02.tar.gz
X/XA/XAOC/ExtUtils-Depends-0.8000.tar.gz
X/XS/XSAWYERX/Ref-Util-XS-0.117.tar.gz
Y/YA/YANICK/Parallel-ForkManager-2.02.tar.gz
Z/ZE/ZEFRAM/Module-Runtime-0.016.tar.gz"

while read -r PKG
do
  dl $URL$PKG $DEST $PKG
done <<< "$PACKAGES"
